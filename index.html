<!-- sostituisci il tuo codice HTML con questo -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Agricultural Buffer Strip Recommender</title>
  <style>
    body {
      font-family: Roboto, sans-serif;
      margin: 40px;
      background: #f4f8f7;
      color: #333;
    }
    h2 {
      color: #2a6d4f;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    select {
      margin-top: 5px;
      padding: 8px;
      width: 250px;
    }
    
    .btn {
      margin-top: 15px;
      padding: 8px 16px;
      width: 250px;
      border: none;
      cursor: pointer;
      font-weight: bold;
      border-radius: 4px;
    }
    .btn-primary {
      background-color: #2a6d4f;
      color: white;
    }
    .btn-primary:hover {
      background-color: #3c8b67;
    }
    .btn-secondary {
      background-color: #ccc;
      color: #333;
    }
    .btn-secondary:hover {
      background-color: #bbb;
    }
    #output {
      margin-top: 20px;
      background: #e0f3e5;
      padding: 15px;
      border-radius: 8px;
      width: fit-content;
    }
    .input-info {
      font-size: 0.9em;
      color: #555;
      margin: 5px 0 10px 0;
      max-width: 600px;
    }
    #willow-description {
      margin-top: 20px;
      padding: 15px;
      background-color: #d6ecda;
      border-left: 5px solid #2a6d4f;
      border-radius: 8px;
      max-width: 700px;
    }
  </style>
</head>
<body>
  <h2>Agricultural Buffer Strip Recommender</h2>

<div style="overflow: auto; max-width: 800px;">
  <div style="float: right; margin-left: 20px; margin-bottom: 10px; text-align: center;">
    <img 
      src="Willow1.png" 
      alt="Willow tree (Salix spp.)" 
      width="400"
      style="display: block; margin-bottom: 5px;">
    
    <p style="font-size: 0.8em; color: #666; margin: 0;">
      <i>Salix spp.</i> — Source: 
      <a href="https://gardenerspath.com/plants/landscape-trees/best-willow-varieties" target="_blank" rel="noopener noreferrer">
        Gardeners Path
      </a>
    </p>
  </div>

  <!-- Select fields -->
  <!-- (il codice dei menu a tendina rimane uguale) -->

  <!-- Pulsanti -->
  <button class="btn btn-primary" onclick="recommendBuffer()">Get Recommendation</button>
  <button class="btn btn-secondary" onclick="resetForm()">Reset</button>
  
  <div id="output"></div>
  <div id="willow-description" style="display: none;"></div>

  <script>
    function resetForm() {
      document.getElementById("slope").selectedIndex = 0;
      document.getElementById("fertilizer").selectedIndex = 0;
      document.getElementById("soil").selectedIndex = 0;
      document.getElementById("rain").selectedIndex = 0;
      document.getElementById("distance").selectedIndex = 0;
      document.getElementById("output").innerHTML = "";
      document.getElementById("willow-description").style.display = "none";
    }

    function recommendBuffer() {
      const slope = document.getElementById("slope").value;
      const fertilizer = document.getElementById("fertilizer").value;
      const soil = document.getElementById("soil").value;
      const rain = document.getElementById("rain").value;
      const distance = document.getElementById("distance").value;

      let width = "";
      const vegetationOptions = [];

      if (slope === "lt10") {
        if (fertilizer === "Low") width = "3 meters";
        else if (fertilizer === "Moderate") width = "5 meters";
        else if (fertilizer === "High") width = "10 meters";
      } else if (slope === "gt10") {
        if (rain === "Dry") width = "5 meters";
        else if (rain === "Moderate") width = "10 meters";
        else if (rain === "Heavy") width = "12 meters";
      }

      if (distance === "lt10") {
        if (slope === "gt10") {
          vegetationOptions.push("Salix spp.");
        } else {
          vegetationOptions.push("Sambucus nigra, Viburnum opulus, Ulmus laevis, Alnus glutinosa, Carex riparia, Juncus effusus, Filipendula ulmaria, Lythrum salicaria");
        }
      } else if (distance === "10-30" && soil === "Loam") {
        vegetationOptions.push("Sambucus nigra, Quercus robur, Festuca pratensis, Lotus corniculatus, Achillea millefolium, Plantago lanceolata");
      }

      let outputText = `<strong>Recommended Buffer Width:</strong> ${width}<br><strong>Vegetation:</strong> ${vegetationOptions.join(", ")}`;
      document.getElementById("output").innerHTML = outputText;

      // Descrizione se Salix spp. è tra le specie raccomandate
      if (vegetationOptions.includes("Salix spp.")) {
        document.getElementById("willow-description").style.display = "block";
        document.getElementById("willow-description").innerHTML = `
        <strong>SALIX SPECIES (WILLOW)</strong><br>
        Salix spp. (Willow) are fast-growing shrub or tree species typically found in moist environments such as riparian zones, wetlands, and streambanks. 
        Depending on the species, they can grow from 1.5–3 meters (shrubs) to over 15–20 meters tall (trees), with spreading root systems that can extend several meters 
        both vertically and laterally. They are characterized by their high tolerance to waterlogging, ability to root easily from cuttings, and extensive fibrous roots 
        that provide mechanical reinforcement to the soil. These traits make them particularly suitable for use in bioengineering, especially for soil stabilization, 
        erosion control, and phytoremediation. In buffer strips near agricultural fields, willows effectively absorb excess nutrients (notably nitrogen and phosphorus), 
        slow down surface runoff, promote infiltration and sedimentation, and provide ecological habitat for birds and insects. Their rapid growth, low maintenance 
        requirements, and high biomass production make them an economically and ecologically sustainable solution for protecting water bodies and restoring degraded 
        riparian landscapes.`;
      } else {
        document.getElementById("willow-description").style.display = "none";
      }
    }
  </script>
</body>
</html>
