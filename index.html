<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Agricultural Buffer Strip Recommender</title>
  <style>
    body {
      font-family: Roboto, sans-serif;
      margin: 40px;
      background: #f4f8f7;
      color: #333;
    }
    h2 {
      color: #2a6d4f;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    select, button {
      margin-top: 5px;
      padding: 8px;
      width: 250px;
    }
    button {
      margin-top: 15px;
      background-color: #2a6d4f;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #3c8b67;
    }
    #outputRecommendation {
      margin-top: 20px;
      background: #e0f3e5;
      padding: 15px;
      border-radius: 8px;
      width: fit-content;
    }
    #outputDescription {
      margin-top: 20px;
      background: #d5f0d8;
      padding: 15px;
      border-radius: 8px;
      max-width: 500px;
      display: flex;
      align-items: center;
      gap: 15px;
      font-size: 0.95em;
      color: #234d20;
    }
    #outputDescription img {
      max-width: 120px;
      border-radius: 6px;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <h2>Agricultural Buffer Strip Recommender</h2>

  <label for="slope">Field Slope:</label>
  <select id="slope">
    <option>&lt; 10 %</option>
    <option>&gt; 10 %</option>
  </select>

  <label for="fertilizer">Fertilizer Use:</label>
  <select id="fertilizer">
    <option>Low</option>
    <option>Moderate</option>
    <option>High</option>
  </select>

  <label for="soil">Soil Type:</label>
  <select id="soil">
    <option>Clay</option>
    <option>Sandy</option>
    <option>Loam</option>
  </select>

  <label for="rain">Precipitation Intensity:</label>
  <select id="rain">
    <option>Dry</option>
    <option>Moderate</option>
    <option>Heavy</option>
  </select>

  <label for="distance">Distance to Water Body:</label>
  <select id="distance">
    <option>&lt; 10 m</option>
    <option>10 – 30 m</option>
    <option>&gt; 30 m</option>
  </select>
  
  <button onclick="recommendBuffer()">Get Recommendation</button>

  <div id="outputRecommendation"></div>
  <div id="outputDescription"></div>

  <script>
    function recommendBuffer() {
      const slope = document.getElementById("slope").value;
      const fertilizer = document.getElementById("fertilizer").value;
      const soil = document.getElementById("soil").value;
      const rain = document.getElementById("rain").value;
      const distance = document.getElementById("distance").value;

      let width = "";
      let vegetation = "";
      let showDescription = false;

      // Calculate Buffer Width
      if (slope === "< 10 %") {
        if (fertilizer === "Low") width = "3 meters";
        else if (fertilizer === "Moderate") width = "5 meters";
        else if (fertilizer === "High") width = "10 meters";
      } else if (slope === "> 10 %") {
        if (rain === "Dry") width = "5 meters";
        else if (rain === "Moderate") width = "10 meters";
        else if (rain === "Heavy") width = "12 meters";
      }

      // Determine vegetation recommendation and if show description
      if (distance === "< 10 m") {
        if (slope === "> 10 %") {
          vegetation = "Salix spp.";
          showDescription = true;
        } else {
          vegetation = "Sambucus nigra, Viburnum opulus, Ulmus laevis, Alnus glutinosa, Carex riparia, Juncus effusus, Filipendula ulmaria, Lythrum salicaria";
        }
      } else if (distance === "10 – 30 m" && soil === "Loam") {
        vegetation = "Sambucus nigra, Quercus robur, Festuca pratensis, Lotus corniculatus, Achillea millefolium, Plantago lanceolata";
      } else if (distance === "> 30 m" && (slope === "> 10 %" || rain === "Dry")) {
        vegetation = "Festuca ovina, Anthyllis vulneraria, Bromus erectus, Poa angustifolia";
      } else {
        vegetation = "Mixed native grasses and legumes";
      }

      // Show Recommendation
      document.getElementById("outputRecommendation").innerHTML =
        `<strong>Your Input:</strong><br>` +
        `• Field Slope: ${slope}<br>` +
        `• Fertilizer Use: ${fertilizer}<br>` +
        `• Soil Type: ${soil}<br>` +
        `• Precipitation Intensity: ${rain}<br>` +
        `• Distance to Water Body: ${distance}<br><br>` +
        `<strong>Minimum Buffer Width Requirement:</strong> ${width}<br>` +
        `<strong>Suggested Vegetation:</strong> ${vegetation}`;

      // Show Description and Photo if needed
      const descDiv = document.getElementById("outputDescription");
      if (showDescription) {
        descDiv.innerHTML = `
          <img src="Willow1.png" alt="Willow tree (Salix spp.)" />
          <div>
            <strong>About Willow (Salix spp.):</strong><br>
            Salix spp. (Willow) are fast-growing shrub or tree species typically found in moist environments such as riparian zones, wetlands, and streambanks. Depending on the species, they can grow from 1.5–3 meters (shrubs) to over 15–20 meters tall (trees), with spreading root systems that can extend several meters both vertically and laterally. They are characterized by their high tolerance to waterlogging, ability to root easily from cuttings, and extensive fibrous roots that provide mechanical reinforcement to the soil. These traits make them particularly suitable for use in bioengineering, especially for soil stabilization, erosion control, and phytoremediation. In buffer strips near agricultural fields, willows effectively absorb excess nutrients (notably nitrogen and phosphorus), slow down surface runoff, promote infiltration and sedimentation, and provide ecological habitat for birds and insects. Their rapid growth, low maintenance requirements, and high biomass production make them an economically and ecologically sustainable solution for protecting water bodies and restoring degraded riparian landscapes.
            <br><br>
            <small>Source: <a href="https://emasola.github.io/buffer-strip/" target="_blank" rel="noopener noreferrer">emasola.github.io</a></small>
          </div>
        `;
      } else {
        descDiv.innerHTML = "";
      }
    }
  </script>
</body>
</html>
