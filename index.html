<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Agricultural Buffer Strip Recommender</title>
  <style>
    :root {
      --color-primary: #2a6d4f;
      --color-primary-hover: #3c8b67;
      --color-bg: #f4f8f7;
      --color-text: #333;
      --color-output-bg: #e0f3e5;
      --color-desc-bg: #d5f0d8;
      --color-desc-text: #234d20;
      --font-family: 'Roboto', sans-serif;
      --spacing: 1rem;
      --border-radius: 8px;
      --max-desc-width: 600px;
      --img-max-width: 120px;
      --img-box-shadow: 0 0 5px rgba(0,0,0,0.2);
    }

    body {
      font-family: var(--font-family);
      margin: 2.5rem;
      background: var(--color-bg);
      color: var(--color-text);
      line-height: 1.5;
    }
    h2 {
      color: var(--color-primary);
      margin-bottom: var(--spacing);
    }
    label {
      display: block;
      margin-top: var(--spacing);
      font-weight: 700;
    }
    select, button {
      margin-top: 0.5rem;
      padding: 0.5rem 0.75rem;
      width: 260px;
      font-size: 1rem;
      border-radius: 4px;
      border: 1px solid #ccc;
      transition: border-color 0.3s ease;
    }
    select:focus, button:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 3px var(--color-primary);
    }
    button {
      margin-top: 1rem;
      background-color: var(--color-primary);
      color: white;
      border: none;
      cursor: pointer;
      font-weight: 700;
      transition: background-color 0.3s ease;
    }
    button:hover, button:focus {
      background-color: var(--color-primary-hover);
    }
    #outputRecommendation {
      margin-top: 1.5rem;
      background: var(--color-output-bg);
      padding: var(--spacing);
      border-radius: var(--border-radius);
      max-width: 600px;
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--color-primary);
      min-height: 2.5em;
    }
    #outputDescription {
      margin-top: 1rem;
      background: var(--color-desc-bg);
      padding: var(--spacing);
      border-radius: var(--border-radius);
      max-width: var(--max-desc-width);
      font-size: 0.95rem;
      color: var(--color-desc-text);
      display: flex;
      gap: 1rem;
      align-items: flex-start;
      min-height: 120px;
    }
    #outputDescription img {
      max-width: var(--img-max-width);
      border-radius: 6px;
      box-shadow: var(--img-box-shadow);
      flex-shrink: 0;
    }
    #outputDescription div {
      overflow-wrap: break-word;
    }
  </style>
</head>
<body>
  <h2>Agricultural Buffer Strip Recommender</h2>

  <section aria-label="Buffer Strip Recommendation Form">
    <label for="slope">Field Slope:</label>
    <select id="slope" aria-required="true" name="slope">
      <option value="low">&lt; 10 %</option>
      <option value="high">&gt; 10 %</option>
    </select>

    <label for="fertilizer">Fertilizer Use:</label>
    <select id="fertilizer" aria-required="true" name="fertilizer">
      <option value="low">Low</option>
      <option value="moderate">Moderate</option>
      <option value="high">High</option>
    </select>

    <label for="soil">Soil Type:</label>
    <select id="soil" aria-required="true" name="soil">
      <option value="clay">Clay</option>
      <option value="sandy">Sandy</option>
      <option value="loam">Loam</option>
    </select>

    <label for="rain">Precipitation Intensity:</label>
    <select id="rain" aria-required="true" name="rain">
      <option value="dry">Dry</option>
      <option value="moderate">Moderate</option>
      <option value="heavy">Heavy</option>
    </select>

    <label for="distance">Distance to Water Body:</label>
    <select id="distance" aria-required="true" name="distance">
      <option value="close">&lt; 10 m</option>
      <option value="medium">10 – 30 m</option>
      <option value="far">&gt; 30 m</option>
    </select>

    <button type="button" onclick="recommendBuffer()">Get Recommendation</button>
  </section>

  <section aria-live="polite" aria-atomic="true">
    <div id="outputRecommendation" role="region" aria-live="polite"></div>
    <div id="outputDescription" role="region" aria-live="polite"></div>
  </section>

  <script>
    const vegetationDescriptions = {
      "Salix spp.": {
        img: "Willow1.png",
        title: "About Willow (Salix spp.):",
        text: `Willow trees (Salix spp.) are fast-growing shrub or tree species typically found in moist environments such as riparian zones, wetlands, and streambanks. Depending on the species, they can grow from 1.5–3 meters (shrubs) to over 15–20 meters tall (trees), with spreading root systems that can extend several meters both vertically and laterally. They are characterized by their high tolerance to waterlogging, ability to root easily from cuttings, and extensive fibrous roots that provide mechanical reinforcement to the soil. These traits make them particularly suitable for use in bioengineering, especially for soil stabilization, erosion control, and phytoremediation. In buffer strips near agricultural fields, willows effectively absorb excess nutrients (notably nitrogen and phosphorus), slow down surface runoff, promote infiltration and sedimentation, and provide ecological habitat for birds and insects. Their rapid growth, low maintenance requirements, and high biomass production make them an economically and ecologically sustainable solution for protecting water bodies and restoring degraded riparian landscapes.`
      },
      "Sambucus nigra, Viburnum opulus, Ulmus laevis, Alnus glutinosa, Carex riparia, Juncus effusus, Filipendula ulmaria, Lythrum salicaria": {
        img: "BlackElder1.png",
        title: "About Sambucus nigra and associated species:",
        text: `
        <strong>Sambucus nigra (Black Elder)</strong><br>
        Sambucus nigra, commonly known as elderberry, is a fast-growing deciduous shrub or small tree typically found in hedgerows and areas with moist, nutrient-rich soils. It thrives in a wide range of conditions, from periodically flooded zones to drier fertile soils, particularly in sunny environments. The plant usually reaches up to 6 meters in height and width, although it can occasionally grow as tall as 10 meters. Its dense and fibrous root system makes it well-suited for bioengineering applications, especially in buffer strips, where it contributes to streambank stabilization and erosion control. Sambucus nigra is particularly suitable for buffer strips near agricultural fields because it helps filter surface runoff, trap sediments, and absorb excess nutrients such as nitrogen and phosphorus, thereby improving water quality. Additionally, it supports local biodiversity by providing nectar, berries, and shelter for a variety of birds and insects, enhancing the ecological function of agricultural and riparian landscapes.<br><br>

        <strong>Viburnum opulus (Guelder rose)</strong><br>
        Viburnum opulus, commonly known as Guelder rose, is a deciduous shrub native to wetlands and river margins, characterized by moderate growth, good shade tolerance, and fibrous roots that improve soil cohesion. It typically reaches 2 to 4 meters in height and 2 to 3 meters in width, forming a dense, rounded crown. This shrub is widely used in ecological restoration and bioengineering to stabilize riparian edges because its root system reduces erosion and enhances soil structure, while its dense canopy filters sediments and excess nutrients from runoff, thereby improving water quality. Additionally, Viburnum opulus supports biodiversity by providing food and habitat for birds and pollinators.<br><br>

        <strong>Ulmus laevis (European White Elm)</strong><br>
        Ulmus laevis is a medium-sized deciduous tree that naturally grows in floodplains and riverbanks, reaching heights of 20 to 30 meters. It features deep, spreading roots that reinforce soils on slopes and riverbanks, helping to prevent erosion. The tree is tolerant of periodic flooding and prefers moist, fertile soils. Its root and canopy structure contribute to slowing water flow, enhancing sedimentation and nutrient uptake, making it suitable for buffer strips protecting waterways from agricultural runoff.<br><br>

        <strong>Alnus glutinosa (Black Alder)</strong><br>
        Alnus glutinosa is a nitrogen-fixing tree species commonly found in wet soils along rivers and streams. It can grow up to 25 meters tall and has a wide root system that stabilizes soil and reduces erosion. Its ability to improve soil fertility makes it beneficial in ecological buffer zones.<br><br>

        <strong>Carex riparia (Greater Pond Sedge)</strong><br>
        Carex riparia is a perennial sedge growing in wet soils of riparian zones. Its dense root mats stabilize soil and help filter sediments from surface runoff.<br><br>

        <strong>Juncus effusus (Common Rush)</strong><br>
        Juncus effusus is a common wetland rush that forms dense clumps and fibrous roots, contributing to bank stabilization and nutrient filtering.<br><br>

        <strong>Filipendula ulmaria (Meadowsweet)</strong><br>
        Meadowsweet grows in wet meadows and along streams. It is useful in buffer strips due to its dense growth and ability to uptake nutrients.<br><br>

        <strong>Lythrum salicaria (Purple Loosestrife)</strong><br>
        Purple Loosestrife is a wetland plant often found in riparian zones. While invasive in some areas, it can help trap sediments and nutrients in buffer strips.<br><br>

        Collectively, these species form multi-layered vegetation that effectively filters agricultural runoff, reduces soil erosion, and enhances riparian habitat diversity.
        `
      }
    };

    function recommendBuffer() {
      const slope = document.getElementById('slope').value;
      const fertilizer = document.getElementById('fertilizer').value;
      const soil = document.getElementById('soil').value;
      const rain = document.getElementById('rain').value;
      const distance = document.getElementById('distance').value;

      // Logic conditions from original code
      let recommendation = "";
      if (
        slope === "low" &&
        fertilizer === "low" &&
        (soil === "clay" || soil === "loam") &&
        rain === "dry" &&
        distance === "far"
      ) {
        recommendation = "Salix spp.";
      } else {
        recommendation = "Sambucus nigra, Viburnum opulus, Ulmus laevis, Alnus glutinosa, Carex riparia, Juncus effusus, Filipendula ulmaria, Lythrum salicaria";
      }

      displayRecommendation(recommendation);
    }

    function displayRecommendation(plantKey) {
      const outputRec = document.getElementById('outputRecommendation');
      const outputDesc = document.getElementById('outputDescription');
      const data = vegetationDescriptions[plantKey];

      if (!data) {
        outputRec.textContent = "No recommendation available.";
        outputDesc.innerHTML = "";
        return;
      }

      outputRec.textContent = `Recommended Buffer Vegetation: ${plantKey}`;

      outputDesc.innerHTML = `
        <img src="${data.img}" alt="${plantKey} image" />
        <div>
          <h3>${data.title}</h3>
          <p>${data.text}</p>
        </div>
      `;
    }
  </script>
</body>
</html>
